/* Robin's Voice v1.4.2 - Dragonfly Theme */
:root {
  /* Dark theme (default) - brighter, happier dragonfly colors */
  --bg-primary: #0a1929;
  --bg-secondary: #132f4c;
  --bg-card: rgba(0, 180, 216, 0.08);
  --bg-input: rgba(0, 0, 0, 0.25);
  --accent-primary: #00B4D8;
  --accent-secondary: #90E0EF;
  --accent-warm: #48CAE4;
  --accent-glow: rgba(0, 180, 216, 0.3);
  --deep-blue: #0077B6;
  --navy: #023E8A;
  --text-primary: #e3f2fd;
  --text-secondary: #90E0EF;
  --text-muted: #64b5f6;
  --border-color: rgba(0, 180, 216, 0.25);
  --border-accent: rgba(0, 180, 216, 0.5);
  --success: #4ade80;
  --error: #f87171;
  --warning: #fbbf24;
  --card-shadow: 0 4px 20px rgba(0, 180, 216, 0.1);
}

/* Light theme */
body.light-theme {
  --bg-primary: #e8f4f8;
  --bg-secondary: #ffffff;
  --bg-card: rgba(0, 180, 216, 0.06);
  --bg-input: rgba(255, 255, 255, 0.8);
  --accent-primary: #0077B6;
  --accent-secondary: #00B4D8;
  --accent-warm: #48CAE4;
  --accent-glow: rgba(0, 180, 216, 0.2);
  --text-primary: #0a1929;
  --text-secondary: #0077B6;
  --text-muted: #5a7a8a;
  --border-color: rgba(0, 119, 182, 0.2);
  --border-accent: rgba(0, 119, 182, 0.4);
  --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  min-height: 100vh;
  line-height: 1.5;
  transition: background 0.3s, color 0.3s;
}

.container { max-width: 480px; margin: 0 auto; padding: 12px; padding-bottom: 80px; }

/* Header */
header { text-align: center; padding: 16px 0; display: flex; flex-direction: column; align-items: center; gap: 4px; }
.header-row { display: flex; align-items: center; gap: 12px; width: 100%; justify-content: center; position: relative; }
header h1 { font-size: 1.2rem; font-weight: 600; color: var(--accent-secondary); display: flex; align-items: center; gap: 8px; }
header p { font-size: 0.8rem; color: var(--text-muted); }
.version { font-size: 0.65rem; color: var(--text-muted); opacity: 0.7; margin-top: 4px; }

/* Dragonfly Icon */
.dragonfly-icon { filter: drop-shadow(0 0 8px var(--accent-glow)); }

/* Theme Toggle */
.theme-toggle { position: absolute; right: 0; width: 36px; height: 36px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 50%; font-size: 1.1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s; }
.theme-toggle:hover { border-color: var(--accent-primary); transform: scale(1.05); }

/* Cards - brighter with subtle glow */
.card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 14px; padding: 14px; margin-bottom: 12px; box-shadow: var(--card-shadow); transition: all 0.3s; }
.card:hover { border-color: var(--border-accent); }
.card h2 { font-size: 0.9rem; font-weight: 600; color: var(--accent-secondary); margin-bottom: 12px; }

/* Type Anything */
.custom-row { display: flex; gap: 8px; margin-bottom: 10px; }
.custom-input { flex: 1; padding: 12px; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-primary); font-size: 1rem; }
.custom-input:focus { outline: none; border-color: var(--accent-primary); }
.send-btn { padding: 12px 20px; background: linear-gradient(135deg, var(--accent-primary), var(--deep-blue)); border: none; border-radius: 10px; color: white; font-weight: 600; font-size: 0.85rem; cursor: pointer; }
.status-bar { display: flex; justify-content: space-between; align-items: center; }
.status-indicator { display: flex; align-items: center; gap: 8px; }
.status-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--success); }
.status-text { font-size: 0.75rem; color: var(--text-muted); }
.stop-btn { padding: 8px 16px; background: rgba(248, 113, 113, 0.2); border: 1px solid var(--error); border-radius: 8px; color: var(--error); font-size: 0.75rem; font-weight: 600; cursor: pointer; }

/* Quick Action Buttons */
.quick-actions { margin-bottom: 12px; }
.quick-action-row { display: flex; gap: 6px; margin-bottom: 6px; }
.quick-action-btn { flex: 1; display: flex; align-items: center; gap: 8px; padding: 10px 12px; border: 1px solid var(--border-accent); border-radius: 10px; background: var(--bg-secondary); color: var(--text-primary); font-size: 0.8rem; cursor: pointer; transition: all 0.2s; }
.quick-action-btn.intro { background: linear-gradient(135deg, rgba(0, 180, 216, 0.15), rgba(0, 119, 182, 0.15)); }
.quick-action-btn.verify { background: linear-gradient(135deg, rgba(2, 62, 138, 0.2), rgba(1, 73, 124, 0.2)); }
.quick-action-btn:active { transform: scale(0.98); }
.qa-icon { font-size: 1rem; }
.qa-label { font-size: 0.8rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.edit-btn-small { padding: 8px 10px; background: transparent; border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-muted); cursor: pointer; font-size: 0.75rem; }

/* Laugh Buttons */
.laugh-row { display: flex; gap: 8px; justify-content: center; margin: 12px 0; padding: 10px; background: rgba(0, 180, 216, 0.05); border-radius: 10px; border: 1px dashed var(--border-color); }
.laugh-btn { display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 10px 16px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-secondary); cursor: pointer; transition: all 0.2s; min-width: 70px; }
.laugh-btn:hover, .laugh-btn:active { border-color: var(--accent-primary); background: rgba(0, 180, 216, 0.1); }
.laugh-icon { width: 24px; height: 24px; color: var(--accent-primary); }
.laugh-btn span:last-child { font-size: 0.65rem; color: var(--text-muted); }

/* Phrase Tabs */
.phrase-tabs { display: flex; border-bottom: 2px solid var(--border-color); margin-bottom: 12px; }
.phrase-tab { flex: 1; padding: 10px; background: transparent; border: none; border-bottom: 2px solid transparent; margin-bottom: -2px; color: var(--text-muted); font-size: 0.8rem; font-weight: 500; cursor: pointer; transition: all 0.2s; }
.phrase-tab.active { color: var(--accent-primary); border-bottom-color: var(--accent-primary); }
.tab-content { display: none; }
.tab-content.active { display: block; }

/* Hotkey Grid */
.hotkey-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.hotkey-btn { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 12px 8px; min-height: 60px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-primary); cursor: pointer; transition: all 0.15s; }
.hotkey-btn:active { transform: scale(0.95); background: rgba(0, 180, 216, 0.15); }
.hotkey-btn .icon { font-size: 1.1rem; margin-bottom: 4px; color: var(--accent-primary); }
.hotkey-btn .label { font-size: 0.7rem; color: var(--text-secondary); }
.hotkey-btn.yes { border-color: var(--success); }
.hotkey-btn.yes .icon { color: var(--success); }
.hotkey-btn.no { border-color: var(--error); }
.hotkey-btn.no .icon { color: var(--error); }

/* Toolbar */
.toolbar { display: flex; gap: 8px; margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border-color); }
.toolbar-btn { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 10px 8px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-secondary); font-size: 0.7rem; cursor: pointer; transition: all 0.2s; }
.toolbar-btn:active { background: rgba(0, 180, 216, 0.15); }
.tb-icon { font-size: 1rem; color: var(--accent-primary); }

/* Quick Scripts */
.quick-scripts { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 10px; }
.quick-script-btn { display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: rgba(0, 180, 216, 0.1); border: 1px solid var(--border-accent); border-radius: 20px; color: var(--text-secondary); font-size: 0.75rem; cursor: pointer; }

/* Collapse Sections */
.collapse-header { display: flex; justify-content: space-between; align-items: center; cursor: pointer; padding: 4px 0; }
.collapse-header .arrow { color: var(--text-muted); font-size: 0.8rem; transition: transform 0.2s; }
.collapse-header.collapsed .arrow { transform: rotate(-90deg); }
.collapse-content { margin-top: 12px; max-height: 500px; overflow-y: auto; transition: all 0.3s; }
.collapse-content.collapsed { display: none; }
.clear-btn { padding: 6px 12px; background: transparent; border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-muted); font-size: 0.7rem; cursor: pointer; }

/* Prefs Menu */
.prefs-menu { display: none; position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%); width: 220px; max-width: calc(100% - 24px); background: var(--bg-secondary); border: 1px solid var(--border-accent); border-radius: 12px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); z-index: 200; overflow: hidden; }
.prefs-menu.active { display: block; }
.prefs-menu-header { display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid var(--border-color); font-weight: 600; font-size: 0.85rem; color: var(--accent-secondary); }
.prefs-menu-header button { background: none; border: none; color: var(--text-muted); font-size: 1.2rem; cursor: pointer; }
.prefs-item { display: flex; align-items: center; gap: 10px; width: 100%; padding: 12px; background: transparent; border: none; color: var(--text-primary); font-size: 0.85rem; cursor: pointer; text-align: left; transition: background 0.2s; }
.prefs-item:hover { background: rgba(0, 180, 216, 0.1); }
.prefs-icon { color: var(--accent-primary); font-size: 1rem; width: 20px; text-align: center; }
.prefs-hint { margin-left: auto; color: var(--text-muted); font-size: 0.8rem; }
.prefs-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 199; }
.prefs-overlay.active { display: block; }

/* Feedback */
.feedback-card { background: transparent; border: none; padding: 0; }
.feedback-btn { width: 100%; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 12px; background: rgba(238, 138, 158, 0.1); border: 1px dashed rgba(238, 138, 158, 0.4); border-radius: 10px; color: #f4a5b8; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; }
.feedback-btn:hover { background: rgba(238, 138, 158, 0.15); }
.feedback-icon { color: #ee8a9e; font-size: 0.7rem; }

/* PII Warning */
.pii-warning { background: rgba(251, 191, 36, 0.1); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 8px; padding: 10px; margin-bottom: 15px; }
.pii-warning strong { color: var(--warning); font-size: 0.8rem; }
.pii-warning p { color: var(--text-muted); font-size: 0.75rem; margin-top: 4px; }
.pii-buttons { margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color); }
.pii-buttons h4 { color: var(--text-muted); font-size: 0.75rem; margin-bottom: 10px; }
.pii-btn-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
.pii-btn { display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 10px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-secondary); font-size: 0.7rem; cursor: pointer; }
.pii-btn span:first-child { color: var(--accent-primary); font-size: 0.9rem; }

/* Scripts Grid */
.scripts-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
.script-card { background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; padding: 12px; cursor: pointer; position: relative; transition: all 0.2s; }
.script-card:active { background: rgba(0, 180, 216, 0.1); }
.script-icon { font-size: 1.2rem; margin-bottom: 6px; }
.script-name { font-size: 0.8rem; font-weight: 600; color: var(--text-primary); }
.script-preview { font-size: 0.7rem; color: var(--text-muted); margin-top: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.delete-script { position: absolute; top: 8px; right: 8px; background: transparent; border: none; color: var(--text-muted); font-size: 0.8rem; cursor: pointer; }
.no-scripts { grid-column: span 2; text-align: center; padding: 20px; color: var(--text-muted); font-size: 0.8rem; }

/* History */
.history-settings { padding: 10px; border-bottom: 1px solid var(--border-color); margin-bottom: 10px; }
.toggle-label { display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; color: var(--text-secondary); }
.toggle-switch { width: 44px; height: 24px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; cursor: pointer; position: relative; transition: all 0.2s; }
.toggle-switch::after { content: ''; position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; background: var(--text-muted); border-radius: 50%; transition: all 0.2s; }
.toggle-switch.active { background: var(--accent-primary); border-color: var(--accent-primary); }
.toggle-switch.active::after { left: 22px; background: white; }
.history-list { max-height: 300px; overflow-y: auto; }
.history-item { padding: 10px; background: var(--bg-secondary); border-radius: 8px; margin-bottom: 6px; cursor: pointer; border: 1px solid var(--border-color); }
.history-item .time { color: var(--text-muted); font-size: 0.7rem; margin-right: 8px; }

/* Footer */
.footer { text-align: center; padding: 20px; font-size: 0.75rem; color: var(--text-muted); opacity: 0.6; }

/* Modal Hint */
.modal-hint { margin-top: 15px; font-size: 0.7rem; color: var(--text-muted); text-align: center; }

/* Test Pronounce */
.form-group { position: relative; margin-bottom: 12px; }
.form-group label { display: block; font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px; }
.form-group input, .form-group textarea, .form-group select { width: 100%; padding: 10px; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 0.9rem; }
.form-group input:focus, .form-group textarea:focus { outline: none; border-color: var(--accent-primary); }
.test-pronounce { position: absolute; right: 8px; top: 26px; padding: 6px 10px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 6px; color: var(--accent-primary); font-size: 0.8rem; cursor: pointer; }

/* Form Rows */
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.form-row.three { grid-template-columns: 2fr 1fr 1fr; }

/* Feedback Modal */
.feedback-type-picker { display: flex; flex-direction: column; gap: 8px; }
.feedback-type-picker p { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 8px; }
.feedback-type { display: flex; align-items: center; gap: 10px; padding: 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-primary); font-size: 0.85rem; cursor: pointer; text-align: left; transition: all 0.2s; }
.feedback-type:hover { border-color: var(--accent-primary); }
.feedback-type.selected { border-color: var(--accent-primary); background: rgba(0, 180, 216, 0.1); }
.feedback-recorder { text-align: center; padding: 20px 0; }
.feedback-timer { font-size: 2rem; font-weight: 700; color: var(--accent-primary); margin-bottom: 15px; }
.feedback-record-btn { display: inline-flex; align-items: center; gap: 10px; padding: 16px 32px; background: linear-gradient(135deg, #ee8a9e, #e87591); border: none; border-radius: 50px; color: white; font-size: 1rem; font-weight: 600; cursor: pointer; }
.feedback-record-btn .rec-icon { font-size: 0.8rem; }
.feedback-prompt { margin-top: 15px; color: var(--text-muted); font-size: 0.8rem; }
.feedback-history { margin-top: 20px; }
.feedback-history button { background: transparent; border: 1px solid var(--border-color); border-radius: 8px; padding: 8px 16px; color: var(--text-muted); font-size: 0.8rem; cursor: pointer; }

/* Recording */
.recording-section { text-align: center; padding: 20px; background: rgba(0, 180, 216, 0.05); border-radius: 12px; margin-bottom: 15px; }
.record-status { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 10px; }
.record-status.recording { color: var(--error); }
.record-timer { font-size: 2.5rem; font-weight: 700; color: var(--accent-primary); margin: 15px 0; }
.record-controls { margin: 20px 0; }
.record-btn { padding: 16px 32px; background: linear-gradient(135deg, var(--accent-primary), var(--deep-blue)); border: none; border-radius: 50px; color: white; font-size: 1rem; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 10px; }
.record-btn.recording { background: linear-gradient(135deg, var(--error), #dc2626); }
.record-icon { font-size: 1.2rem; }
.transcription-section, .save-button-section { padding: 15px; background: rgba(0, 0, 0, 0.2); border-radius: 12px; margin-bottom: 15px; }

/* Icon Picker */
.icon-picker { display: flex; flex-wrap: wrap; gap: 8px; }
.icon-option { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; font-size: 1.1rem; cursor: pointer; }
.icon-option.selected { border-color: var(--accent-primary); background: rgba(0, 180, 216, 0.15); }

/* API Row */
.api-row { display: flex; gap: 8px; }
.api-row input { flex: 1; }
.key-status { font-size: 0.7rem; margin-top: 4px; color: var(--text-muted); }
.key-status.saved { color: var(--success); }

/* Agent Sections */
.agent-section { padding: 12px; background: rgba(0, 0, 0, 0.2); border-radius: 10px; margin-bottom: 12px; }
.agent-section h4 { font-size: 0.85rem; color: var(--accent-secondary); margin-bottom: 4px; }
.agent-description { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 10px; }
.setting-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; }
.setting-label { font-size: 0.8rem; color: var(--text-secondary); }
.setting-chips { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
.setting-chip { padding: 6px 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 20px; color: var(--text-muted); font-size: 0.75rem; cursor: pointer; }
.setting-chip.active { border-color: var(--accent-primary); color: var(--accent-primary); background: rgba(0, 180, 216, 0.1); }
.coming-soon { opacity: 0.6; }
.badge { display: inline-block; padding: 2px 8px; background: var(--accent-warm); color: var(--bg-primary); font-size: 0.6rem; font-weight: 600; border-radius: 10px; margin-left: 6px; }

/* Scripts Library */
.full-scripts-list { max-height: 300px; overflow-y: auto; margin-bottom: 12px; }
.script-item { padding: 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 8px; }
.script-item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
.script-item-title { font-weight: 600; font-size: 0.85rem; color: var(--text-primary); }
.script-item-btn { background: transparent; border: none; color: var(--text-muted); cursor: pointer; padding: 4px 8px; font-size: 0.9rem; }
.script-item-text { font-size: 0.75rem; color: var(--text-muted); line-height: 1.4; }

/* Voice Grid */
.voice-section { margin-bottom: 15px; }
.voice-section h4 { font-size: 0.8rem; color: var(--text-muted); margin-bottom: 10px; }
.voice-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; max-height: 200px; overflow-y: auto; }
.voice-grid.special { grid-template-columns: 1fr; max-height: none; }
.voice-card { padding: 10px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center; }
.voice-card.selected { border-color: var(--accent-primary); background: rgba(0, 180, 216, 0.1); }
.voice-name { font-size: 0.75rem; color: var(--text-primary); }
.filter-row { display: flex; gap: 6px; margin-bottom: 10px; flex-wrap: wrap; }
.filter-btn { padding: 6px 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-muted); font-size: 0.75rem; cursor: pointer; }
.filter-btn.active { border-color: var(--accent-primary); color: var(--accent-primary); }
.test-controls { display: flex; align-items: center; gap: 12px; padding-top: 12px; border-top: 1px solid var(--border-color); }
.speed-control { display: flex; align-items: center; gap: 8px; flex: 1; }
.speed-control span { font-size: 0.75rem; color: var(--text-muted); }
.speed-control input { flex: 1; }

/* Data List */
.data-list { max-height: 250px; overflow-y: auto; margin-bottom: 12px; }
.data-item { padding: 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 8px; cursor: pointer; }
.data-item-title { font-weight: 600; font-size: 0.85rem; color: var(--text-primary); }
.data-item-sub { font-size: 0.75rem; color: var(--text-muted); margin-top: 2px; }

/* Modal Actions */
.modal-actions { display: flex; gap: 10px; margin-top: 15px; }
.modal-btn { padding: 10px 16px; border: none; border-radius: 8px; font-size: 0.85rem; font-weight: 500; cursor: pointer; }
.modal-btn.save { background: linear-gradient(135deg, var(--accent-primary), var(--deep-blue)); color: white; flex: 1; }
.modal-btn.cancel { background: transparent; border: 1px solid var(--border-color); color: var(--text-muted); }
.modal-btn.full { width: 100%; }

/* Placeholder Help */
.placeholder-help { font-size: 0.7rem; color: var(--text-muted); margin-top: 8px; }
.placeholder-help code { background: rgba(0, 180, 216, 0.1); padding: 2px 6px; border-radius: 4px; }

/* Loading */
.loading-msg { text-align: center; padding: 20px; color: var(--text-muted); font-size: 0.85rem; }

/* Mobile */
@media (max-width: 400px) {
  .hotkey-grid { grid-template-columns: repeat(2, 1fr); }
  .pii-btn-grid { grid-template-columns: repeat(2, 1fr); }
  .scripts-grid { grid-template-columns: 1fr; }
  .form-row, .form-row.three { grid-template-columns: 1fr; }
  .toolbar { flex-wrap: wrap; }
  .laugh-row { flex-wrap: wrap; }
  .about-nav { grid-template-columns: repeat(2, 1fr); }
}

/* ============================================
   AUDIO SETTINGS
   ============================================ */
.audio-section { padding: 15px 0; }
.audio-control { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
.audio-label { display: flex; align-items: center; gap: 8px; min-width: 120px; font-size: 0.85rem; color: var(--text-secondary); }
.audio-icon { font-size: 1.1rem; }
.audio-value { margin-left: auto; font-size: 0.75rem; color: var(--text-muted); min-width: 35px; }
.audio-control input[type="range"] { flex: 1; height: 6px; background: var(--bg-secondary); border-radius: 3px; -webkit-appearance: none; }
.audio-control input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; background: var(--accent-primary); border-radius: 50%; cursor: pointer; }
.audio-test-btn { width: 36px; height: 36px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; color: var(--accent-primary); font-size: 1rem; cursor: pointer; }
.audio-test-btn:active { background: rgba(0, 180, 216, 0.2); }

.mic-level-container { padding: 10px; background: rgba(0, 0, 0, 0.2); border-radius: 8px; margin-bottom: 15px; }
.mic-level-bar { height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden; }
.mic-level-fill { height: 100%; background: linear-gradient(90deg, var(--success), var(--accent-primary)); width: 0%; transition: width 0.1s; }
.mic-level-label { display: block; text-align: center; font-size: 0.7rem; color: var(--text-muted); margin-top: 6px; }

.audio-options { padding: 15px 0; border-top: 1px solid var(--border-color); }
.audio-option { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; cursor: pointer; font-size: 0.85rem; color: var(--text-secondary); }
.audio-option input { display: none; }
.audio-option .checkmark { width: 20px; height: 20px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 4px; position: relative; }
.audio-option input:checked + .checkmark { background: var(--accent-primary); border-color: var(--accent-primary); }
.audio-option input:checked + .checkmark::after { content: 'âœ“'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 0.8rem; }
.audio-tip { padding: 10px; background: rgba(0, 180, 216, 0.1); border-radius: 8px; font-size: 0.75rem; color: var(--text-muted); }

/* ============================================
   ABOUT & HELP
   ============================================ */
.about-nav { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
.about-nav-btn { display: flex; flex-direction: column; align-items: center; gap: 6px; padding: 16px 10px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; color: var(--text-secondary); font-size: 0.8rem; cursor: pointer; transition: all 0.2s; min-height: 70px; }
.about-nav-btn:active { background: rgba(0, 180, 216, 0.15); border-color: var(--accent-primary); }
.about-nav-icon { font-size: 1.3rem; color: var(--accent-primary); }

.about-section { padding: 15px; background: rgba(0, 0, 0, 0.2); border-radius: 12px; }
.about-section h4 { color: var(--accent-secondary); font-size: 0.95rem; margin-bottom: 12px; }

.quick-steps { display: flex; flex-direction: column; gap: 12px; }
.quick-step { display: flex; gap: 12px; align-items: flex-start; }
.step-num { width: 28px; height: 28px; background: var(--accent-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--bg-primary); font-weight: 700; font-size: 0.9rem; flex-shrink: 0; }
.step-content strong { display: block; color: var(--text-primary); font-size: 0.9rem; }
.step-content p { color: var(--text-muted); font-size: 0.8rem; margin-top: 2px; }
.about-action-btn { width: 100%; margin-top: 15px; padding: 12px; background: linear-gradient(135deg, var(--accent-primary), var(--deep-blue)); border: none; border-radius: 10px; color: white; font-size: 0.85rem; font-weight: 600; cursor: pointer; }

.walkthrough-list { display: flex; flex-direction: column; gap: 8px; }
.walkthrough-item { display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-primary); font-size: 0.9rem; cursor: pointer; text-align: left; }
.walkthrough-item span:first-child { font-size: 1.2rem; }
.walkthrough-item:active { background: rgba(0, 180, 216, 0.1); }

.helper-intro { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 12px; }
.helper-chat { max-height: 200px; overflow-y: auto; margin-bottom: 12px; padding: 10px; background: var(--bg-secondary); border-radius: 10px; }
.helper-message { padding: 10px; border-radius: 10px; margin-bottom: 8px; font-size: 0.85rem; }
.helper-message.assistant { background: rgba(0, 180, 216, 0.15); color: var(--text-primary); }
.helper-message.user { background: rgba(238, 138, 158, 0.15); color: var(--text-primary); margin-left: 20px; }
.helper-input-row { display: flex; gap: 8px; margin-bottom: 12px; }
.helper-input-row input { flex: 1; padding: 12px; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-primary); font-size: 0.9rem; }
.helper-input-row button { width: 44px; background: var(--accent-primary); border: none; border-radius: 10px; color: white; font-size: 1.2rem; cursor: pointer; }
.helper-suggestions { display: flex; flex-wrap: wrap; gap: 6px; }
.helper-suggestions button { padding: 8px 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 20px; color: var(--text-muted); font-size: 0.75rem; cursor: pointer; }

.costs-table { margin-bottom: 15px; }
.cost-row { display: flex; justify-content: space-between; padding: 10px; background: var(--bg-secondary); border-radius: 8px; margin-bottom: 6px; font-size: 0.85rem; }
.cost-row span:first-child { color: var(--text-secondary); }
.cost-row span:nth-child(2) { color: var(--accent-primary); font-weight: 600; }
.cost-note { color: var(--text-muted); font-size: 0.75rem; }
.costs-current { padding: 12px; background: rgba(0, 180, 216, 0.1); border-radius: 8px; font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 10px; }
.costs-note { font-size: 0.75rem; color: var(--text-muted); }

.about-info { text-align: center; }
.about-info p { margin-bottom: 8px; color: var(--text-secondary); }
.about-desc { font-size: 0.85rem; color: var(--text-muted); margin: 15px 0; line-height: 1.5; }
.about-features { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-top: 15px; }
.about-features span { padding: 6px 12px; background: rgba(0, 180, 216, 0.1); border-radius: 20px; font-size: 0.75rem; color: var(--accent-secondary); }

/* About page logo section */
.app-logo-section { display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 15px; }
.about-dragonfly { filter: drop-shadow(0 0 10px var(--accent-glow)); }
.version-badge { display: inline-block; padding: 4px 12px; background: linear-gradient(135deg, var(--accent-primary), var(--deep-blue)); color: white; border-radius: 12px; font-size: 0.75rem; font-weight: 600; }

.dev-info { text-align: center; }
.dev-info p { margin-bottom: 8px; color: var(--text-secondary); }
.dev-note { font-size: 0.9rem; color: var(--text-muted); margin: 15px 0; }
.dev-tech { display: flex; gap: 10px; justify-content: center; margin: 15px 0; }
.dev-tech span { padding: 6px 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 6px; font-size: 0.75rem; color: var(--text-muted); }

/* Prefs Divider */
.prefs-divider { height: 1px; background: var(--border-color); margin: 8px 0; }

/* ============================================
   TOGGLE BUTTONS (Visible against dark bg)
   ============================================ */
.toggle-btn { width: 50px; height: 28px; background: #1e3a5f; border: 2px solid var(--border-color); border-radius: 14px; position: relative; cursor: pointer; transition: all 0.3s; }
.toggle-btn::after { content: ''; position: absolute; width: 20px; height: 20px; background: #64748b; border-radius: 50%; top: 2px; left: 2px; transition: all 0.3s; }
.toggle-btn.active { background: #10b981; border-color: #10b981; }
.toggle-btn.active::after { left: 24px; background: white; }

.setting-toggle { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; }
.setting-toggle span { font-size: 0.85rem; color: var(--text-secondary); }

/* ============================================
   RECORDING PLAYER
   ============================================ */
.recording-player-card { padding: 12px; }
.recording-player-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.recording-player-header h2 { font-size: 0.9rem; color: var(--accent-secondary); }
.recording-list { max-height: 120px; overflow-y: auto; margin-bottom: 10px; }
.recording-item { display: flex; align-items: center; gap: 10px; padding: 8px; background: var(--bg-secondary); border-radius: 8px; margin-bottom: 6px; cursor: pointer; }
.recording-item.active { border: 1px solid var(--accent-primary); }
.recording-item .rec-icon { color: var(--error); }
.recording-item .rec-info { flex: 1; }
.recording-item .rec-name { font-size: 0.8rem; color: var(--text-primary); }
.recording-item .rec-time { font-size: 0.65rem; color: var(--text-muted); }
.recording-item .rec-duration { font-size: 0.75rem; color: var(--accent-primary); }

.player-controls { background: var(--bg-secondary); border-radius: 10px; padding: 10px; }
.player-info { display: flex; justify-content: space-between; margin-bottom: 8px; }
.player-info span { font-size: 0.75rem; color: var(--text-muted); }
.player-bar { height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin-bottom: 10px; overflow: hidden; }
.player-progress { height: 100%; background: var(--accent-primary); width: 0%; transition: width 0.1s; }
.player-btns { display: flex; justify-content: center; gap: 12px; }
.player-btns button { width: 40px; height: 40px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 50%; color: var(--text-primary); font-size: 1rem; cursor: pointer; }
.player-btns button:hover { border-color: var(--accent-primary); }

.empty-msg { color: var(--text-muted); font-size: 0.8rem; text-align: center; padding: 20px; }

/* ============================================
   CALL HISTORY MODAL
   ============================================ */
.call-history-settings { padding: 10px 0; border-bottom: 1px solid var(--border-color); margin-bottom: 12px; }
.call-history-list { max-height: 300px; overflow-y: auto; }
.call-item { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-secondary); border-radius: 10px; margin-bottom: 8px; }
.call-icon { font-size: 1.2rem; }
.call-icon.incoming { color: var(--success); }
.call-icon.outgoing { color: var(--accent-primary); }
.call-icon.missed { color: var(--error); }
.call-info { flex: 1; }
.call-caller { font-size: 0.9rem; font-weight: 600; color: var(--text-primary); }
.call-meta { font-size: 0.75rem; color: var(--text-muted); }
.call-duration { font-size: 0.85rem; color: var(--accent-secondary); }
.call-summary-btn { padding: 6px 10px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 6px; font-size: 0.7rem; color: var(--text-muted); cursor: pointer; }

/* ============================================
   LAUGH RECORDING
   ============================================ */
.laughs-intro { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 15px; }
.laugh-record-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; margin-bottom: 10px; }
.laugh-record-label { display: flex; flex-direction: column; gap: 4px; }
.laugh-record-label span:first-child { font-weight: 600; color: var(--text-primary); font-size: 0.9rem; }
.laugh-status { font-size: 0.75rem; color: var(--text-muted); }
.laugh-record-btns { display: flex; gap: 8px; }
.laugh-rec-btn { width: 40px; height: 40px; border-radius: 50%; background: var(--accent-primary); border: none; color: white; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.laugh-rec-btn.recording { background: var(--error); animation: pulse 1s infinite; }
.laugh-play-btn, .laugh-clear-btn { width: 36px; height: 36px; border-radius: 8px; background: var(--bg-primary); border: 1px solid var(--border-color); color: var(--text-muted); font-size: 0.9rem; cursor: pointer; }
.laugh-play-btn:hover { border-color: var(--accent-primary); color: var(--accent-primary); }
.laugh-clear-btn:hover { border-color: var(--error); color: var(--error); }
.laugh-tip { font-size: 0.75rem; color: var(--text-muted); margin-top: 15px; padding: 10px; background: rgba(0, 180, 216, 0.1); border-radius: 8px; }

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* Feedback Recording Button */
.feedback-record-btn.recording { background: linear-gradient(135deg, var(--error), #dc2626); animation: pulse 1s infinite; }

/* ============================================
   FEEDBACK SECTION (in About modal)
   ============================================ */
.feedback-prompt { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 10px; }
.feedback-cat-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
.feedback-cat-btn { display: flex; flex-direction: column; align-items: center; gap: 6px; padding: 14px 10px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-secondary); font-size: 0.8rem; cursor: pointer; }
.feedback-cat-btn span:first-child { font-size: 1.2rem; color: var(--accent-primary); }
.feedback-cat-btn:hover { border-color: var(--accent-primary); }
.feedback-cat-btn.urgent { border-color: var(--error); }
.feedback-cat-btn.urgent span:first-child { color: var(--error); }
.feedback-cat-btn.selected { background: rgba(0, 180, 216, 0.15); border-color: var(--accent-primary); }

.feedback-cat-label { text-align: center; font-size: 0.9rem; color: var(--accent-secondary); margin-bottom: 15px; font-weight: 600; }

.feedback-record-area { display: flex; flex-direction: column; align-items: center; gap: 10px; padding: 20px; background: rgba(0,0,0,0.2); border-radius: 12px; margin-bottom: 15px; }
.feedback-timer { font-size: 2rem; font-weight: 300; color: var(--text-primary); font-family: monospace; }
.feedback-record-btn { width: 70px; height: 70px; border-radius: 50%; background: linear-gradient(135deg, var(--accent-primary), var(--deep-blue)); border: none; color: white; font-size: 2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.feedback-record-btn.recording { background: linear-gradient(135deg, var(--error), #dc2626); animation: pulse 1s infinite; }
.feedback-record-hint { font-size: 0.75rem; color: var(--text-muted); }

.feedback-preview { background: rgba(0,0,0,0.2); border-radius: 12px; padding: 15px; margin-bottom: 15px; }
.preview-header { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.85rem; color: var(--text-secondary); }
.preview-controls { display: flex; justify-content: center; gap: 15px; margin-bottom: 15px; }
.preview-controls button { width: 44px; height: 44px; border-radius: 50%; background: var(--bg-secondary); border: 1px solid var(--border-color); color: var(--text-primary); font-size: 1.1rem; cursor: pointer; }
.preview-controls button:hover { border-color: var(--accent-primary); }

.feedback-transcription { margin-bottom: 15px; }
.feedback-transcription label { display: block; font-size: 0.75rem; color: var(--text-muted); margin-bottom: 6px; }
.feedback-transcription textarea { width: 100%; padding: 10px; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 0.9rem; resize: none; }

.feedback-send-btn { width: 100%; padding: 14px; background: linear-gradient(135deg, var(--success), #22c55e); border: none; border-radius: 10px; color: white; font-size: 0.95rem; font-weight: 600; cursor: pointer; }

.feedback-back-btn { width: 100%; padding: 10px; background: none; border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-muted); font-size: 0.85rem; cursor: pointer; margin-top: 10px; }

.feedback-history { margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color); }
.feedback-history-btn { width: 100%; padding: 10px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-muted); font-size: 0.8rem; cursor: pointer; }
